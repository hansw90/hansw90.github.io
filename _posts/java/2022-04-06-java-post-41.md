---
title: "IDE 에선 가능한 파일(sqlite) 읽기 jar에선 왜안돼??"
date: 2022-04-06-00:00:00 -0000
categories: JAVA

---

오늘 ide 에서만 테스트하던 프로젝트를 개발계 도커 환경에 배포하고 테스트를 진행하였다.  (아니 정확히는 오늘 배포는 아니지,, 배포한지는 한참 되었고 이걸(내무 sqlite) 쓰논곳이 거이 없으니,,)

내 프로젝트에서는 데이터를 저장하는 mariadb 말고도 이기종으로 기존 형태소 분석기에서 필요하던 텍스트 파일을 sqlite로 관리를 하였다, (이부분을 crud 하는게 지식이 있는 사람이 아니면 컨트롤하기가 너무 힘들었기에,,) 

일단 지금은 형태소 분석기를 사용하는것도 나밖에 없고,, 해서,, 이제야 확인한..

형태소 분석기 Resource 들을 불러 올때 발생한 에러,, "sqlite no such table" 이라는 에러 메세지 -0-;;;

신기한건 ide 에서는 잘 되는데?? 

```text
결론 부터 말하자면 resource 내에 sqlite db 파일에 접근 하기 위해선 아래와 같이(::) 쓰면된다.

"jdbc:sqlite::{resource:}"
https://github.com/xerial/sqlite-jdbc
```

## 목차
1. 클래스패스?
2. 현재 실행위치가 IDE 이지? 아니면 jar 인지?
2. 리소스 파일 불러오기
3. getResource 대신 getResourceAsStreame 사용하기
4. 

## 1. class path란?

자바를 하면 3가지 path를 자주 다루게 된다.
Path, Class Path, JAVA_HOME

이것들이 각각 어떤 패스인지 알아보도록 하자.
#### 1-1. Path
OS에서 명령어를 실행할 떄 명령어를 찾아야 하는 폴더의 순위를 설정하는 환경변수

#### 1-2. Class Path
JVM이 시작될 때 JVM의 클래스 로더는 이 환경변수를 호출한다. 그래서 환경변수에 설정되어 있는 디렉토리가 호출되면 그 디렉토리에 있는 클래스들을 먼저 JVM에 로드한다.
그러므로 CLASSPATH 환경 변수에는  필수 클래스들이 위치한 디렉토리를 등록 하도록 한다.

#### 1-3. JAVA_HOME
Jdk가 설치된 홈 디렉토리를 설정하기 위한 환경변수. 

## 참고
https://blog.daum.net/debianizer/16995534
http://june0313.github.io/2018/08/11/read-resource-file-on-spring/
https://github.com/xerial/sqlite-jdbc




